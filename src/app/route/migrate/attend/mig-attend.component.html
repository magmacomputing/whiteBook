<button color="accent" (click)="toggleHide()">Hidden</button> {{ hidden }}
<table>
	<div *ngFor="let dash of dash$ | async">
		<p>
			<tr>
				<td width="50%">{{ dash.register.migrate.sheetName }}</td>
				<td width="30%">${{ !dash.account && 'none' || dash.account.summary.credit | json}}</td>
				<td width="20%">
					<button color="primary" (click)="signIn(dash.register)" [disabled]="current"
						[hidden]="current && current.migrate.sheetName == dash.register.migrate.sheetName">
						SignIn </button>
				</td>
			</tr>
			<div *ngIf="current && current.migrate.sheetName == dash.register.migrate.sheetName">
				<div *ngIf="account$ | async as data">
					<button color="accent" (click)="signOut()">SignOut</button>
					<button (click)="addPayment()" [disabled]="data.account.payment.length">Add Payments</button>
					<button (click)="addAttend()" [disabled]="!data.account.payment.length || data.account.attend.length">Add
						Attends</button>
					<button (click)="delPayment()" [disabled]="!data.account.payment.length">Del Payments</button>
					<button (click)="delAttend()" [disabled]="!data.account.attend.length">Del Attends</button>
					<button (click)="delPayment()">Reset</button>
					<p *ngIf="data.account"> {{ data.account.summary | json }} </p>
				</div>
			</div>
	</div>
</table>

<ng-template #waitAdmin>
	<div>
		<p>Please wait while we fetch member list...</p>
	</div>
</ng-template>